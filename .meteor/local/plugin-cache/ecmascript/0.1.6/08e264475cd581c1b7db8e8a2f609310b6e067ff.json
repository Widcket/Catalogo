{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.1.6\n*/\n/*!\n * # Semantic UI - Visit\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Copyright 2015 Contributors\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n  \"use strict\";\n\n  $.visit = $.fn.visit = function (parameters) {\n    var $allModules = $.isFunction(this) ? $(window) : $(this),\n        moduleSelector = $allModules.selector || '',\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.visit.settings, parameters) : $.extend({}, $.fn.visit.settings),\n          error = settings.error,\n          namespace = settings.namespace,\n          eventNamespace = '.' + namespace,\n          moduleNamespace = namespace + '-module',\n          $module = $(this),\n          $displays = $(),\n          element = this,\n          instance = $module.data(moduleNamespace),\n          module;\n      module = {\n\n        initialize: function () {\n          if (settings.count) {\n            module.store(settings.key.count, settings.count);\n          } else if (settings.id) {\n            module.add.id(settings.id);\n          } else if (settings.increment && methodInvoked !== 'increment') {\n            module.increment();\n          }\n          module.add.display($module);\n          module.instantiate();\n        },\n\n        instantiate: function () {\n          module.verbose('Storing instance of visit module', module);\n          instance = module;\n          $module.data(moduleNamespace, module);\n        },\n\n        destroy: function () {\n          module.verbose('Destroying instance');\n          $module.removeData(moduleNamespace);\n        },\n\n        increment: function (id) {\n          var currentValue = module.get.count(),\n              newValue = +currentValue + 1;\n          if (id) {\n            module.add.id(id);\n          } else {\n            if (newValue > settings.limit && !settings.surpass) {\n              newValue = settings.limit;\n            }\n            module.debug('Incrementing visits', newValue);\n            module.store(settings.key.count, newValue);\n          }\n        },\n\n        decrement: function (id) {\n          var currentValue = module.get.count(),\n              newValue = +currentValue - 1;\n          if (id) {\n            module.remove.id(id);\n          } else {\n            module.debug('Removing visit');\n            module.store(settings.key.count, newValue);\n          }\n        },\n\n        get: {\n          count: function () {\n            return +module.retrieve(settings.key.count) || 0;\n          },\n          idCount: function (ids) {\n            ids = ids || module.get.ids();\n            return ids.length;\n          },\n          ids: function (delimitedIDs) {\n            var idArray = [];\n            delimitedIDs = delimitedIDs || module.retrieve(settings.key.ids);\n            if (typeof delimitedIDs === 'string') {\n              idArray = delimitedIDs.split(settings.delimiter);\n            }\n            module.verbose('Found visited ID list', idArray);\n            return idArray;\n          },\n          storageOptions: function (data) {\n            var options = {};\n            if (settings.expires) {\n              options.expires = settings.expires;\n            }\n            if (settings.domain) {\n              options.domain = settings.domain;\n            }\n            if (settings.path) {\n              options.path = settings.path;\n            }\n            return options;\n          }\n        },\n\n        has: {\n          visited: function (id, ids) {\n            var visited = false;\n            ids = ids || module.get.ids();\n            if (id !== undefined && ids) {\n              $.each(ids, function (index, value) {\n                if (value == id) {\n                  visited = true;\n                }\n              });\n            }\n            return visited;\n          }\n        },\n\n        set: {\n          count: function (value) {\n            module.store(settings.key.count, value);\n          },\n          ids: function (value) {\n            module.store(settings.key.ids, value);\n          }\n        },\n\n        reset: function () {\n          module.store(settings.key.count, 0);\n          module.store(settings.key.ids, null);\n        },\n\n        add: {\n          id: function (id) {\n            var currentIDs = module.retrieve(settings.key.ids),\n                newIDs = currentIDs === undefined || currentIDs === '' ? id : currentIDs + settings.delimiter + id;\n            if (module.has.visited(id)) {\n              module.debug('Unique content already visited, not adding visit', id, currentIDs);\n            } else if (id === undefined) {\n              module.debug('ID is not defined');\n            } else {\n              module.debug('Adding visit to unique content', id);\n              module.store(settings.key.ids, newIDs);\n            }\n            module.set.count(module.get.idCount());\n          },\n          display: function (selector) {\n            var $element = $(selector);\n            if ($element.length > 0 && !$.isWindow($element[0])) {\n              module.debug('Updating visit count for element', $element);\n              $displays = $displays.length > 0 ? $displays.add($element) : $element;\n            }\n          }\n        },\n\n        remove: {\n          id: function (id) {\n            var currentIDs = module.get.ids(),\n                newIDs = [];\n            if (id !== undefined && currentIDs !== undefined) {\n              module.debug('Removing visit to unique content', id, currentIDs);\n              $.each(currentIDs, function (index, value) {\n                if (value !== id) {\n                  newIDs.push(value);\n                }\n              });\n              newIDs = newIDs.join(settings.delimiter);\n              module.store(settings.key.ids, newIDs);\n            }\n            module.set.count(module.get.idCount());\n          }\n        },\n\n        check: {\n          limit: function (value) {\n            value = value || module.get.count();\n            if (settings.limit) {\n              if (value >= settings.limit) {\n                module.debug('Pages viewed exceeded limit, firing callback', value, settings.limit);\n                settings.onLimit.call(element, value);\n              }\n              module.debug('Limit not reached', value, settings.limit);\n              settings.onChange.call(element, value);\n            }\n            module.update.display(value);\n          }\n        },\n\n        update: {\n          display: function (value) {\n            value = value || module.get.count();\n            if ($displays.length > 0) {\n              module.debug('Updating displayed view count', $displays);\n              $displays.html(value);\n            }\n          }\n        },\n\n        store: function (key, value) {\n          var options = module.get.storageOptions(value);\n          if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n            window.localStorage.setItem(key, value);\n            module.debug('Value stored using local storage', key, value);\n          } else if ($.cookie !== undefined) {\n            $.cookie(key, value, options);\n            module.debug('Value stored using cookie', key, value, options);\n          } else {\n            module.error(error.noCookieStorage);\n            return;\n          }\n          if (key == settings.key.count) {\n            module.check.limit(value);\n          }\n        },\n        retrieve: function (key, value) {\n          var storedValue;\n          if (settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n            storedValue = window.localStorage.getItem(key);\n          }\n          // get by cookie\n          else if ($.cookie !== undefined) {\n              storedValue = $.cookie(key);\n            } else {\n              module.error(error.noCookieStorage);\n            }\n          if (storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {\n            storedValue = undefined;\n          }\n          return storedValue;\n        },\n\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          module.debug('Changing internal', name, value);\n          if (value !== undefined) {\n            if ($.isPlainObject(name)) {\n              $.extend(true, module, name);\n            } else {\n              module[name] = value;\n            }\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n          module.error.apply(console, arguments);\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if ($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    });\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.visit.settings = {\n\n    name: 'Visit',\n\n    debug: false,\n    verbose: false,\n    performance: true,\n\n    namespace: 'visit',\n\n    increment: false,\n    surpass: false,\n    count: false,\n    limit: false,\n\n    delimiter: '&',\n    storageMethod: 'localstorage',\n\n    key: {\n      count: 'visit-count',\n      ids: 'visit-ids'\n    },\n\n    expires: 30,\n    domain: false,\n    path: '/',\n\n    onLimit: function () {},\n    onChange: function () {},\n\n    error: {\n      method: 'The method you called is not defined',\n      missingPersist: 'Using the persist setting requires the inclusion of PersistJS',\n      noCookieStorage: 'The default storage cookie requires $.cookie to be included.'\n    }\n\n  };\n})(jQuery, window, document);","ast":null,"map":{"version":3,"sources":["/client/definitions/behaviors/visit.js"],"names":[],"mappings":"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","file":"/client/definitions/behaviors/visit.js.map","sourcesContent":["/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.1.6\n*/\n/*!\n * # Semantic UI - Visit\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Copyright 2015 Contributors\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\n$.visit = $.fn.visit = function(parameters) {\n  var\n    $allModules     = $.isFunction(this)\n        ? $(window)\n        : $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.visit.settings, parameters)\n          : $.extend({}, $.fn.visit.settings),\n\n        error           = settings.error,\n        namespace       = settings.namespace,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = namespace + '-module',\n\n        $module         = $(this),\n        $displays       = $(),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n        module\n      ;\n      module = {\n\n        initialize: function() {\n          if(settings.count) {\n            module.store(settings.key.count, settings.count);\n          }\n          else if(settings.id) {\n            module.add.id(settings.id);\n          }\n          else if(settings.increment && methodInvoked !== 'increment') {\n            module.increment();\n          }\n          module.add.display($module);\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of visit module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying instance');\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        increment: function(id) {\n          var\n            currentValue = module.get.count(),\n            newValue     = +(currentValue) + 1\n          ;\n          if(id) {\n            module.add.id(id);\n          }\n          else {\n            if(newValue > settings.limit && !settings.surpass) {\n              newValue = settings.limit;\n            }\n            module.debug('Incrementing visits', newValue);\n            module.store(settings.key.count, newValue);\n          }\n        },\n\n        decrement: function(id) {\n          var\n            currentValue = module.get.count(),\n            newValue     = +(currentValue) - 1\n          ;\n          if(id) {\n            module.remove.id(id);\n          }\n          else {\n            module.debug('Removing visit');\n            module.store(settings.key.count, newValue);\n          }\n        },\n\n        get: {\n          count: function() {\n            return +(module.retrieve(settings.key.count)) || 0;\n          },\n          idCount: function(ids) {\n            ids = ids || module.get.ids();\n            return ids.length;\n          },\n          ids: function(delimitedIDs) {\n            var\n              idArray = []\n            ;\n            delimitedIDs = delimitedIDs || module.retrieve(settings.key.ids);\n            if(typeof delimitedIDs === 'string') {\n              idArray = delimitedIDs.split(settings.delimiter);\n            }\n            module.verbose('Found visited ID list', idArray);\n            return idArray;\n          },\n          storageOptions: function(data) {\n            var\n              options = {}\n            ;\n            if(settings.expires) {\n              options.expires = settings.expires;\n            }\n            if(settings.domain) {\n              options.domain = settings.domain;\n            }\n            if(settings.path) {\n              options.path = settings.path;\n            }\n            return options;\n          }\n        },\n\n        has: {\n          visited: function(id, ids) {\n            var\n              visited = false\n            ;\n            ids = ids || module.get.ids();\n            if(id !== undefined && ids) {\n              $.each(ids, function(index, value){\n                if(value == id) {\n                  visited = true;\n                }\n              });\n            }\n            return visited;\n          }\n        },\n\n        set: {\n          count: function(value) {\n            module.store(settings.key.count, value);\n          },\n          ids: function(value) {\n            module.store(settings.key.ids, value);\n          }\n        },\n\n        reset: function() {\n          module.store(settings.key.count, 0);\n          module.store(settings.key.ids, null);\n        },\n\n        add: {\n          id: function(id) {\n            var\n              currentIDs = module.retrieve(settings.key.ids),\n              newIDs = (currentIDs === undefined || currentIDs === '')\n                ? id\n                : currentIDs + settings.delimiter + id\n            ;\n            if( module.has.visited(id) ) {\n              module.debug('Unique content already visited, not adding visit', id, currentIDs);\n            }\n            else if(id === undefined) {\n              module.debug('ID is not defined');\n            }\n            else {\n              module.debug('Adding visit to unique content', id);\n              module.store(settings.key.ids, newIDs);\n            }\n            module.set.count( module.get.idCount() );\n          },\n          display: function(selector) {\n            var\n              $element = $(selector)\n            ;\n            if($element.length > 0 && !$.isWindow($element[0])) {\n              module.debug('Updating visit count for element', $element);\n              $displays = ($displays.length > 0)\n                ? $displays.add($element)\n                : $element\n              ;\n            }\n          }\n        },\n\n        remove: {\n          id: function(id) {\n            var\n              currentIDs = module.get.ids(),\n              newIDs     = []\n            ;\n            if(id !== undefined && currentIDs !== undefined) {\n              module.debug('Removing visit to unique content', id, currentIDs);\n              $.each(currentIDs, function(index, value){\n                if(value !== id) {\n                  newIDs.push(value);\n                }\n              });\n              newIDs = newIDs.join(settings.delimiter);\n              module.store(settings.key.ids, newIDs );\n            }\n            module.set.count( module.get.idCount() );\n          }\n        },\n\n        check: {\n          limit: function(value) {\n            value = value || module.get.count();\n            if(settings.limit) {\n              if(value >= settings.limit) {\n                module.debug('Pages viewed exceeded limit, firing callback', value, settings.limit);\n                settings.onLimit.call(element, value);\n              }\n              module.debug('Limit not reached', value, settings.limit);\n              settings.onChange.call(element, value);\n            }\n            module.update.display(value);\n          }\n        },\n\n        update: {\n          display: function(value) {\n            value = value || module.get.count();\n            if($displays.length > 0) {\n              module.debug('Updating displayed view count', $displays);\n              $displays.html(value);\n            }\n          }\n        },\n\n        store: function(key, value) {\n          var\n            options = module.get.storageOptions(value)\n          ;\n          if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n            window.localStorage.setItem(key, value);\n            module.debug('Value stored using local storage', key, value);\n          }\n          else if($.cookie !== undefined) {\n            $.cookie(key, value, options);\n            module.debug('Value stored using cookie', key, value, options);\n          }\n          else {\n            module.error(error.noCookieStorage);\n            return;\n          }\n          if(key == settings.key.count) {\n            module.check.limit(value);\n          }\n        },\n        retrieve: function(key, value) {\n          var\n            storedValue\n          ;\n          if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n            storedValue = window.localStorage.getItem(key);\n          }\n          // get by cookie\n          else if($.cookie !== undefined) {\n            storedValue = $.cookie(key);\n          }\n          else {\n            module.error(error.noCookieStorage);\n          }\n          if(storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {\n            storedValue = undefined;\n          }\n          return storedValue;\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          module.debug('Changing internal', name, value);\n          if(value !== undefined) {\n            if( $.isPlainObject(name) ) {\n              $.extend(true, module, name);\n            }\n            else {\n              module[name] = value;\n            }\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n          module.error.apply(console, arguments);\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.visit.settings = {\n\n  name          : 'Visit',\n\n  debug         : false,\n  verbose       : false,\n  performance   : true,\n\n  namespace     : 'visit',\n\n  increment     : false,\n  surpass       : false,\n  count         : false,\n  limit         : false,\n\n  delimiter     : '&',\n  storageMethod : 'localstorage',\n\n  key           : {\n    count : 'visit-count',\n    ids   : 'visit-ids'\n  },\n\n  expires       : 30,\n  domain        : false,\n  path          : '/',\n\n  onLimit       : function() {},\n  onChange      : function() {},\n\n  error         : {\n    method          : 'The method you called is not defined',\n    missingPersist  : 'Using the persist setting requires the inclusion of PersistJS',\n    noCookieStorage : 'The default storage cookie requires $.cookie to be included.'\n  }\n\n};\n\n})( jQuery, window, document );\n"]},"hash":"08e264475cd581c1b7db8e8a2f609310b6e067ff"}
