{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.1.6\n*/\n/*!\n * # Semantic UI - Popup\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Copyright 2015 Contributors\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n  \"use strict\";\n\n  $.fn.popup = function (parameters) {\n    var $allModules = $(this),\n        $document = $(document),\n        $window = $(window),\n        $body = $('body'),\n        moduleSelector = $allModules.selector || '',\n        hasTouch = true,\n        time = new Date().getTime(),\n        performance = [],\n        query = arguments[0],\n        methodInvoked = typeof query == 'string',\n        queryArguments = [].slice.call(arguments, 1),\n        returnedValue;\n    $allModules.each(function () {\n      var settings = $.isPlainObject(parameters) ? $.extend(true, {}, $.fn.popup.settings, parameters) : $.extend({}, $.fn.popup.settings),\n          selector = settings.selector,\n          className = settings.className,\n          error = settings.error,\n          metadata = settings.metadata,\n          namespace = settings.namespace,\n          eventNamespace = '.' + settings.namespace,\n          moduleNamespace = 'module-' + namespace,\n          $module = $(this),\n          $context = $(settings.context),\n          $target = settings.target ? $(settings.target) : $module,\n          $popup,\n          $offsetParent,\n          searchDepth = 0,\n          triedPositions = false,\n          openedWithTouch = false,\n          element = this,\n          instance = $module.data(moduleNamespace),\n          elementNamespace,\n          id,\n          module;\n\n      module = {\n\n        // binds events\n        initialize: function () {\n          module.debug('Initializing', $module);\n          module.createID();\n          module.bind.events();\n          if (!module.exists() && settings.preserve) {\n            module.create();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function () {\n          module.verbose('Storing instance', module);\n          instance = module;\n          $module.data(moduleNamespace, instance);\n        },\n\n        refresh: function () {\n          if (settings.popup) {\n            $popup = $(settings.popup).eq(0);\n          } else {\n            if (settings.inline) {\n              $popup = $target.nextAll(selector.popup).eq(0);\n              settings.popup = $popup;\n            }\n          }\n          if (settings.popup) {\n            $popup.addClass(className.loading);\n            $offsetParent = module.get.offsetParent();\n            $popup.removeClass(className.loading);\n            if (settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {\n              module.debug('Moving popup to the same offset parent as activating element');\n              $popup.detach().appendTo($offsetParent);\n            }\n          } else {\n            $offsetParent = settings.inline ? module.get.offsetParent($target) : module.has.popup() ? module.get.offsetParent($popup) : $body;\n          }\n          if ($offsetParent.is('html') && $offsetParent[0] !== $body[0]) {\n            module.debug('Setting page as offset parent');\n            $offsetParent = $body;\n          }\n          if (module.get.variation()) {\n            module.set.variation();\n          }\n        },\n\n        reposition: function () {\n          module.refresh();\n          module.set.position();\n        },\n\n        destroy: function () {\n          module.debug('Destroying previous module');\n          // remove element only if was created dynamically\n          if ($popup && !settings.preserve) {\n            module.removePopup();\n          }\n          // clear all timeouts\n          clearTimeout(module.hideTimer);\n          clearTimeout(module.showTimer);\n          // remove events\n          $window.off(elementNamespace);\n          $module.off(eventNamespace).removeData(moduleNamespace);\n        },\n\n        event: {\n          start: function (event) {\n            var delay = $.isPlainObject(settings.delay) ? settings.delay.show : settings.delay;\n            clearTimeout(module.hideTimer);\n            if (!openedWithTouch) {\n              module.showTimer = setTimeout(module.show, delay);\n            }\n          },\n          end: function () {\n            var delay = $.isPlainObject(settings.delay) ? settings.delay.hide : settings.delay;\n            clearTimeout(module.showTimer);\n            module.hideTimer = setTimeout(module.hide, delay);\n          },\n          touchstart: function (event) {\n            openedWithTouch = true;\n            module.show();\n          },\n          resize: function () {\n            if (module.is.visible()) {\n              module.set.position();\n            }\n          },\n          hideGracefully: function (event) {\n            // don't close on clicks inside popup\n            if (event && $(event.target).closest(selector.popup).length === 0) {\n              module.debug('Click occurred outside popup hiding popup');\n              module.hide();\n            } else {\n              module.debug('Click was inside popup, keeping popup open');\n            }\n          }\n        },\n\n        // generates popup html from metadata\n        create: function () {\n          var html = module.get.html(),\n              title = module.get.title(),\n              content = module.get.content();\n\n          if (html || content || title) {\n            module.debug('Creating pop-up html');\n            if (!html) {\n              html = settings.templates.popup({\n                title: title,\n                content: content\n              });\n            }\n            $popup = $('<div/>').addClass(className.popup).data(metadata.activator, $module).html(html);\n            if (settings.inline) {\n              module.verbose('Inserting popup element inline', $popup);\n              $popup.insertAfter($module);\n            } else {\n              module.verbose('Appending popup element to body', $popup);\n              $popup.appendTo($context);\n            }\n            module.refresh();\n            module.set.variation();\n\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n            settings.onCreate.call($popup, element);\n          } else if ($target.next(selector.popup).length !== 0) {\n            module.verbose('Pre-existing popup found');\n            settings.inline = true;\n            settings.popups = $target.next(selector.popup).data(metadata.activator, $module);\n            module.refresh();\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n          } else if (settings.popup) {\n            $(settings.popup).data(metadata.activator, $module);\n            module.verbose('Used popup specified in settings');\n            module.refresh();\n            if (settings.hoverable) {\n              module.bind.popup();\n            }\n          } else {\n            module.debug('No content specified skipping display', element);\n          }\n        },\n\n        createID: function () {\n          id = (Math.random().toString(16) + '000000000').substr(2, 8);\n          elementNamespace = '.' + id;\n          module.verbose('Creating unique id for element', id);\n        },\n\n        // determines popup state\n        toggle: function () {\n          module.debug('Toggling pop-up');\n          if (module.is.hidden()) {\n            module.debug('Popup is hidden, showing pop-up');\n            module.unbind.close();\n            module.show();\n          } else {\n            module.debug('Popup is visible, hiding pop-up');\n            module.hide();\n          }\n        },\n\n        show: function (callback) {\n          callback = callback || function () {};\n          module.debug('Showing pop-up', settings.transition);\n          if (module.is.hidden() && !(module.is.active() && module.is.dropdown())) {\n            if (!module.exists()) {\n              module.create();\n            }\n            if (settings.onShow.call($popup, element) === false) {\n              module.debug('onShow callback returned false, cancelling popup animation');\n              return;\n            } else if (!settings.preserve && !settings.popup) {\n              module.refresh();\n            }\n            if ($popup && module.set.position()) {\n              module.save.conditions();\n              if (settings.exclusive) {\n                module.hideAll();\n              }\n              module.animate.show(callback);\n            }\n          }\n        },\n\n        hide: function (callback) {\n          callback = callback || function () {};\n          if (module.is.visible() || module.is.animating()) {\n            if (settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            module.remove.visible();\n            module.unbind.close();\n            module.restore.conditions();\n            module.animate.hide(callback);\n          }\n        },\n\n        hideAll: function () {\n          $(selector.popup).filter('.' + className.visible).each(function () {\n            $(this).data(metadata.activator).popup('hide');\n          });\n        },\n        exists: function () {\n          if (!$popup) {\n            return false;\n          }\n          if (settings.inline || settings.popup) {\n            return module.has.popup();\n          } else {\n            return $popup.closest($context).length >= 1 ? true : false;\n          }\n        },\n\n        removePopup: function () {\n          if (module.has.popup() && !settings.popup) {\n            module.debug('Removing popup', $popup);\n            $popup.remove();\n            $popup = undefined;\n            settings.onRemove.call($popup, element);\n          }\n        },\n\n        save: {\n          conditions: function () {\n            module.cache = {\n              title: $module.attr('title')\n            };\n            if (module.cache.title) {\n              $module.removeAttr('title');\n            }\n            module.verbose('Saving original attributes', module.cache.title);\n          }\n        },\n        restore: {\n          conditions: function () {\n            if (module.cache && module.cache.title) {\n              $module.attr('title', module.cache.title);\n              module.verbose('Restoring original attributes', module.cache.title);\n            }\n            return true;\n          }\n        },\n        animate: {\n          show: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.set.visible();\n              $popup.transition({\n                animation: settings.transition + ' in',\n                queue: false,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                duration: settings.duration,\n                onComplete: function () {\n                  module.bind.close();\n                  callback.call($popup, element);\n                  settings.onVisible.call($popup, element);\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          },\n          hide: function (callback) {\n            callback = $.isFunction(callback) ? callback : function () {};\n            module.debug('Hiding pop-up');\n            if (settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            if (settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $popup.transition({\n                animation: settings.transition + ' out',\n                queue: false,\n                duration: settings.duration,\n                debug: settings.debug,\n                verbose: settings.verbose,\n                onComplete: function () {\n                  module.reset();\n                  callback.call($popup, element);\n                  settings.onHidden.call($popup, element);\n                }\n              });\n            } else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n\n        change: {\n          content: function (html) {\n            $popup.html(html);\n          }\n        },\n\n        get: {\n          html: function () {\n            $module.removeData(metadata.html);\n            return $module.data(metadata.html) || settings.html;\n          },\n          title: function () {\n            $module.removeData(metadata.title);\n            return $module.data(metadata.title) || settings.title;\n          },\n          content: function () {\n            $module.removeData(metadata.content);\n            return $module.data(metadata.content) || $module.attr('title') || settings.content;\n          },\n          variation: function () {\n            $module.removeData(metadata.variation);\n            return $module.data(metadata.variation) || settings.variation;\n          },\n          popup: function () {\n            return $popup;\n          },\n          popupOffset: function () {\n            return $popup.offset();\n          },\n          calculations: function () {\n            var targetElement = $target[0],\n                targetPosition = settings.inline || settings.popup && settings.movePopup ? $target.position() : $target.offset(),\n                calculations = {},\n                screen;\n            calculations = {\n              // element which is launching popup\n              target: {\n                element: $target[0],\n                width: $target.outerWidth(),\n                height: $target.outerHeight(),\n                top: targetPosition.top,\n                left: targetPosition.left,\n                margin: {}\n              },\n              // popup itself\n              popup: {\n                width: $popup.outerWidth(),\n                height: $popup.outerHeight()\n              },\n              // offset container (or 3d context)\n              parent: {\n                width: $offsetParent.outerWidth(),\n                height: $offsetParent.outerHeight()\n              },\n              // screen boundaries\n              screen: {\n                scroll: {\n                  top: $window.scrollTop(),\n                  left: $window.scrollLeft()\n                },\n                width: $window.width(),\n                height: $window.height()\n              }\n            };\n\n            // add in container calcs if fluid\n            if (settings.setFluidWidth && module.is.fluid()) {\n              calculations.container = {\n                width: $popup.parent().outerWidth()\n              };\n              calculations.popup.width = calculations.container.width;\n            }\n\n            // add in margins if inline\n            calculations.target.margin.top = settings.inline ? parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10) : 0;\n            calculations.target.margin.left = settings.inline ? module.is.rtl() ? parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10) : parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-left'), 10) : 0;\n            // calculate screen boundaries\n            screen = calculations.screen;\n            calculations.boundary = {\n              top: screen.scroll.top,\n              bottom: screen.scroll.top + screen.height,\n              left: screen.scroll.left,\n              right: screen.scroll.left + screen.width\n            };\n            return calculations;\n          },\n          id: function () {\n            return id;\n          },\n          startEvent: function () {\n            if (settings.on == 'hover') {\n              return 'mouseenter';\n            } else if (settings.on == 'focus') {\n              return 'focus';\n            }\n            return false;\n          },\n          scrollEvent: function () {\n            return 'scroll';\n          },\n          endEvent: function () {\n            if (settings.on == 'hover') {\n              return 'mouseleave';\n            } else if (settings.on == 'focus') {\n              return 'blur';\n            }\n            return false;\n          },\n          distanceFromBoundary: function (offset, calculations) {\n            var distanceFromBoundary = {},\n                popup,\n                boundary;\n            offset = offset || module.get.offset();\n            calculations = calculations || module.get.calculations();\n\n            // shorthand\n            popup = calculations.popup;\n            boundary = calculations.boundary;\n\n            if (offset) {\n              distanceFromBoundary = {\n                top: offset.top - boundary.top,\n                left: offset.left - boundary.left,\n                right: boundary.right - (offset.left + popup.width),\n                bottom: boundary.bottom - (offset.top + popup.height)\n              };\n              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);\n            }\n            return distanceFromBoundary;\n          },\n          offsetParent: function ($target) {\n            var element = $target !== undefined ? $target[0] : $module[0],\n                parentNode = element.parentNode,\n                $node = $(parentNode);\n            if (parentNode) {\n              var is2D = $node.css('transform') === 'none',\n                  isStatic = $node.css('position') === 'static',\n                  isHTML = $node.is('html');\n              while (parentNode && !isHTML && isStatic && is2D) {\n                parentNode = parentNode.parentNode;\n                $node = $(parentNode);\n                is2D = $node.css('transform') === 'none';\n                isStatic = $node.css('position') === 'static';\n                isHTML = $node.is('html');\n              }\n            }\n            return $node && $node.length > 0 ? $node : $();\n          },\n          positions: function () {\n            return {\n              'top left': false,\n              'top center': false,\n              'top right': false,\n              'bottom left': false,\n              'bottom center': false,\n              'bottom right': false,\n              'left center': false,\n              'right center': false\n            };\n          },\n          nextPosition: function (position) {\n            var positions = position.split(' '),\n                verticalPosition = positions[0],\n                horizontalPosition = positions[1],\n                opposite = {\n              top: 'bottom',\n              bottom: 'top',\n              left: 'right',\n              right: 'left'\n            },\n                adjacent = {\n              left: 'center',\n              center: 'right',\n              right: 'left'\n            },\n                backup = {\n              'top left': 'top center',\n              'top center': 'top right',\n              'top right': 'right center',\n              'right center': 'bottom right',\n              'bottom right': 'bottom center',\n              'bottom center': 'bottom left',\n              'bottom left': 'left center',\n              'left center': 'top left'\n            },\n                adjacentsAvailable = verticalPosition == 'top' || verticalPosition == 'bottom',\n                oppositeTried = false,\n                adjacentTried = false,\n                nextPosition = false;\n            if (!triedPositions) {\n              module.verbose('All available positions available');\n              triedPositions = module.get.positions();\n            }\n\n            module.debug('Recording last position tried', position);\n            triedPositions[position] = true;\n\n            if (settings.prefer === 'opposite') {\n              nextPosition = [opposite[verticalPosition], horizontalPosition];\n              nextPosition = nextPosition.join(' ');\n              oppositeTried = triedPositions[nextPosition] === true;\n              module.debug('Trying opposite strategy', nextPosition);\n            }\n            if (settings.prefer === 'adjacent' && adjacentsAvailable) {\n              nextPosition = [verticalPosition, adjacent[horizontalPosition]];\n              nextPosition = nextPosition.join(' ');\n              adjacentTried = triedPositions[nextPosition] === true;\n              module.debug('Trying adjacent strategy', nextPosition);\n            }\n            if (adjacentTried || oppositeTried) {\n              module.debug('Using backup position', nextPosition);\n              nextPosition = backup[position];\n            }\n            return nextPosition;\n          }\n        },\n\n        set: {\n          position: function (position, calculations) {\n\n            // exit conditions\n            if ($target.length === 0 || $popup.length === 0) {\n              module.error(error.notFound);\n              return;\n            }\n            var offset, distanceAway, target, popup, parent, positioning, popupOffset, distanceFromBoundary;\n\n            calculations = calculations || module.get.calculations();\n            position = position || $module.data(metadata.position) || settings.position;\n\n            offset = $module.data(metadata.offset) || settings.offset;\n            distanceAway = settings.distanceAway;\n\n            // shorthand\n            target = calculations.target;\n            popup = calculations.popup;\n            parent = calculations.parent;\n\n            if (target.width === 0 && target.height === 0 && !(target.element instanceof SVGGraphicsElement)) {\n              module.debug('Popup target is hidden, no action taken');\n              return false;\n            }\n\n            if (settings.inline) {\n              module.debug('Adding margin to calculation', target.margin);\n              if (position == 'left center' || position == 'right center') {\n                offset += target.margin.top;\n                distanceAway += -target.margin.left;\n              } else if (position == 'top left' || position == 'top center' || position == 'top right') {\n                offset += target.margin.left;\n                distanceAway -= target.margin.top;\n              } else {\n                offset += target.margin.left;\n                distanceAway += target.margin.top;\n              }\n            }\n\n            module.debug('Determining popup position from calculations', position, calculations);\n\n            if (module.is.rtl()) {\n              position = position.replace(/left|right/g, function (match) {\n                return match == 'left' ? 'right' : 'left';\n              });\n              module.debug('RTL: Popup position updated', position);\n            }\n\n            // if last attempt use specified last resort position\n            if (searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {\n              position = settings.lastResort;\n            }\n\n            switch (position) {\n              case 'top left':\n                positioning = {\n                  top: 'auto',\n                  bottom: parent.height - target.top + distanceAway,\n                  left: target.left + offset,\n                  right: 'auto'\n                };\n                break;\n              case 'top center':\n                positioning = {\n                  bottom: parent.height - target.top + distanceAway,\n                  left: target.left + target.width / 2 - popup.width / 2 + offset,\n                  top: 'auto',\n                  right: 'auto'\n                };\n                break;\n              case 'top right':\n                positioning = {\n                  bottom: parent.height - target.top + distanceAway,\n                  right: parent.width - target.left - target.width - offset,\n                  top: 'auto',\n                  left: 'auto'\n                };\n                break;\n              case 'left center':\n                positioning = {\n                  top: target.top + target.height / 2 - popup.height / 2 + offset,\n                  right: parent.width - target.left + distanceAway,\n                  left: 'auto',\n                  bottom: 'auto'\n                };\n                break;\n              case 'right center':\n                positioning = {\n                  top: target.top + target.height / 2 - popup.height / 2 + offset,\n                  left: target.left + target.width + distanceAway,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n              case 'bottom left':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  left: target.left + offset,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n              case 'bottom center':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  left: target.left + target.width / 2 - popup.width / 2 + offset,\n                  bottom: 'auto',\n                  right: 'auto'\n                };\n                break;\n              case 'bottom right':\n                positioning = {\n                  top: target.top + target.height + distanceAway,\n                  right: parent.width - target.left - target.width - offset,\n                  left: 'auto',\n                  bottom: 'auto'\n                };\n                break;\n            }\n            if (positioning === undefined) {\n              module.error(error.invalidPosition, position);\n            }\n\n            module.debug('Calculated popup positioning values', positioning);\n\n            // tentatively place on stage\n            $popup.css(positioning).removeClass(className.position).addClass(position).addClass(className.loading);\n\n            popupOffset = module.get.popupOffset();\n\n            // see if any boundaries are surpassed with this tentative position\n            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);\n\n            if (module.is.offstage(distanceFromBoundary, position)) {\n              module.debug('Position is outside viewport', position);\n              if (searchDepth < settings.maxSearchDepth) {\n                searchDepth++;\n                position = module.get.nextPosition(position);\n                module.debug('Trying new position', position);\n                return $popup ? module.set.position(position, calculations) : false;\n              } else {\n                if (settings.lastResort) {\n                  module.debug('No position found, showing with last position');\n                } else {\n                  module.debug('Popup could not find a position to display', $popup);\n                  module.error(error.cannotPlace, element);\n                  module.remove.attempts();\n                  module.remove.loading();\n                  module.reset();\n                  return false;\n                }\n              }\n            }\n            module.debug('Position is on stage', position);\n            module.remove.attempts();\n            module.remove.loading();\n            if (settings.setFluidWidth && module.is.fluid()) {\n              module.set.fluidWidth(calculations);\n            }\n            return true;\n          },\n\n          fluidWidth: function (calculations) {\n            calculations = calculations || module.get.calculations();\n            module.debug('Automatically setting element width to parent width', calculations.parent.width);\n            $popup.css('width', calculations.container.width);\n          },\n\n          variation: function (variation) {\n            variation = variation || module.get.variation();\n            if (variation && module.has.popup()) {\n              module.verbose('Adding variation to popup', variation);\n              $popup.addClass(variation);\n            }\n          },\n\n          visible: function () {\n            $module.addClass(className.visible);\n          }\n        },\n\n        remove: {\n          loading: function () {\n            $popup.removeClass(className.loading);\n          },\n          variation: function (variation) {\n            variation = variation || module.get.variation();\n            if (variation) {\n              module.verbose('Removing variation', variation);\n              $popup.removeClass(variation);\n            }\n          },\n          visible: function () {\n            $module.removeClass(className.visible);\n          },\n          attempts: function () {\n            module.verbose('Resetting all searched positions');\n            searchDepth = 0;\n            triedPositions = false;\n          }\n        },\n\n        bind: {\n          events: function () {\n            module.debug('Binding popup events to module');\n            if (settings.on == 'click') {\n              $module.on('click' + eventNamespace, module.toggle);\n            }\n            if (settings.on == 'hover' && hasTouch) {\n              $module.on('touchstart' + eventNamespace, module.event.touchstart);\n            }\n            if (module.get.startEvent()) {\n              $module.on(module.get.startEvent() + eventNamespace, module.event.start).on(module.get.endEvent() + eventNamespace, module.event.end);\n            }\n            if (settings.target) {\n              module.debug('Target set to element', $target);\n            }\n            $window.on('resize' + elementNamespace, module.event.resize);\n          },\n          popup: function () {\n            module.verbose('Allowing hover events on popup to prevent closing');\n            if ($popup && module.has.popup()) {\n              $popup.on('mouseenter' + eventNamespace, module.event.start).on('mouseleave' + eventNamespace, module.event.end);\n            }\n          },\n          close: function () {\n            if (settings.hideOnScroll === true || settings.hideOnScroll == 'auto' && settings.on != 'click') {\n              $document.one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully);\n              $context.one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully);\n            }\n            if (settings.on == 'hover' && openedWithTouch) {\n              module.verbose('Binding popup close event to document');\n              $document.on('touchstart' + elementNamespace, function (event) {\n                module.verbose('Touched away from popup');\n                module.event.hideGracefully.call(element, event);\n              });\n            }\n            if (settings.on == 'click' && settings.closable) {\n              module.verbose('Binding popup close event to document');\n              $document.on('click' + elementNamespace, function (event) {\n                module.verbose('Clicked away from popup');\n                module.event.hideGracefully.call(element, event);\n              });\n            }\n          }\n        },\n\n        unbind: {\n          close: function () {\n            if (settings.hideOnScroll === true || settings.hideOnScroll == 'auto' && settings.on != 'click') {\n              $document.off('scroll' + elementNamespace, module.hide);\n              $context.off('scroll' + elementNamespace, module.hide);\n            }\n            if (settings.on == 'hover' && openedWithTouch) {\n              $document.off('touchstart' + elementNamespace);\n              openedWithTouch = false;\n            }\n            if (settings.on == 'click' && settings.closable) {\n              module.verbose('Removing close event from document');\n              $document.off('click' + elementNamespace);\n            }\n          }\n        },\n\n        has: {\n          popup: function () {\n            return $popup && $popup.length > 0;\n          }\n        },\n\n        is: {\n          offstage: function (distanceFromBoundary, position) {\n            var offstage = [];\n            // return boundaries that have been surpassed\n            $.each(distanceFromBoundary, function (direction, distance) {\n              if (distance < -settings.jitter) {\n                module.debug('Position exceeds allowable distance from edge', direction, distance, position);\n                offstage.push(direction);\n              }\n            });\n            if (offstage.length > 0) {\n              return true;\n            } else {\n              return false;\n            }\n          },\n          active: function () {\n            return $module.hasClass(className.active);\n          },\n          animating: function () {\n            return $popup && $popup.hasClass(className.animating);\n          },\n          fluid: function () {\n            return $popup && $popup.hasClass(className.fluid);\n          },\n          visible: function () {\n            return $popup && $popup.hasClass(className.visible);\n          },\n          dropdown: function () {\n            return $module.hasClass(className.dropdown);\n          },\n          hidden: function () {\n            return !module.is.visible();\n          },\n          rtl: function () {\n            return $module.css('direction') == 'rtl';\n          }\n        },\n\n        reset: function () {\n          module.remove.visible();\n          if (settings.preserve) {\n            if ($.fn.transition !== undefined) {\n              $popup.transition('remove transition');\n            }\n          } else {\n            module.removePopup();\n          }\n        },\n\n        setting: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, settings, name);\n          } else if (value !== undefined) {\n            settings[name] = value;\n          } else {\n            return settings[name];\n          }\n        },\n        internal: function (name, value) {\n          if ($.isPlainObject(name)) {\n            $.extend(true, module, name);\n          } else if (value !== undefined) {\n            module[name] = value;\n          } else {\n            return module[name];\n          }\n        },\n        debug: function () {\n          if (settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function () {\n          if (settings.verbose && settings.debug) {\n            if (settings.performance) {\n              module.performance.log(arguments);\n            } else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function () {\n          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n          module.error.apply(console, arguments);\n        },\n        performance: {\n          log: function (message) {\n            var currentTime, executionTime, previousTime;\n            if (settings.performance) {\n              currentTime = new Date().getTime();\n              previousTime = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time = currentTime;\n              performance.push({\n                'Name': message[0],\n                'Arguments': [].slice.call(message, 1) || '',\n                'Element': element,\n                'Execution Time': executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function () {\n            var title = settings.name + ':',\n                totalTime = 0;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function (index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if (moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if ((console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if (console.table) {\n                console.table(performance);\n              } else {\n                $.each(performance, function (index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time'] + 'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function (query, passedArguments, context) {\n          var object = instance,\n              maxDepth,\n              found,\n              response;\n          passedArguments = passedArguments || queryArguments;\n          context = element || context;\n          if (typeof query == 'string' && object !== undefined) {\n            query = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function (depth, value) {\n              var camelCaseValue = depth != maxDepth ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1) : query;\n              if ($.isPlainObject(object[camelCaseValue]) && depth != maxDepth) {\n                object = object[camelCaseValue];\n              } else if (object[camelCaseValue] !== undefined) {\n                found = object[camelCaseValue];\n                return false;\n              } else if ($.isPlainObject(object[value]) && depth != maxDepth) {\n                object = object[value];\n              } else if (object[value] !== undefined) {\n                found = object[value];\n                return false;\n              } else {\n                return false;\n              }\n            });\n          }\n          if ($.isFunction(found)) {\n            response = found.apply(context, passedArguments);\n          } else if (found !== undefined) {\n            response = found;\n          }\n          if ($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          } else if (returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          } else if (response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if (methodInvoked) {\n        if (instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      } else {\n        if (instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    });\n\n    return returnedValue !== undefined ? returnedValue : this;\n  };\n\n  $.fn.popup.settings = {\n\n    name: 'Popup',\n\n    // module settings\n    debug: false,\n    verbose: false,\n    performance: true,\n    namespace: 'popup',\n\n    // callback only when element added to dom\n    onCreate: function () {},\n\n    // callback before element removed from dom\n    onRemove: function () {},\n\n    // callback before show animation\n    onShow: function () {},\n\n    // callback after show animation\n    onVisible: function () {},\n\n    // callback before hide animation\n    onHide: function () {},\n\n    // callback after hide animation\n    onHidden: function () {},\n\n    // when to show popup\n    on: 'hover',\n\n    // whether to add touchstart events when using hover\n    addTouchEvents: true,\n\n    // default position relative to element\n    position: 'top left',\n\n    // name of variation to use\n    variation: '',\n\n    // whether popup should be moved to context\n    movePopup: true,\n\n    // element which popup should be relative to\n    target: false,\n\n    // jq selector or element that should be used as popup\n    popup: false,\n\n    // popup should remain inline next to activator\n    inline: false,\n\n    // popup should be removed from page on hide\n    preserve: false,\n\n    // popup should not close when being hovered on\n    hoverable: false,\n\n    // explicitly set content\n    content: false,\n\n    // explicitly set html\n    html: false,\n\n    // explicitly set title\n    title: false,\n\n    // whether automatically close on clickaway when on click\n    closable: true,\n\n    // automatically hide on scroll\n    hideOnScroll: 'auto',\n\n    // hide other popups on show\n    exclusive: false,\n\n    // context to attach popups\n    context: 'body',\n\n    // position to prefer when calculating new position\n    prefer: 'opposite',\n\n    // specify position to appear even if it doesn't fit\n    lastResort: false,\n\n    // delay used to prevent accidental refiring of animations due to user error\n    delay: {\n      show: 50,\n      hide: 70\n    },\n\n    // whether fluid variation should assign width explicitly\n    setFluidWidth: true,\n\n    // transition settings\n    duration: 200,\n    transition: 'scale',\n\n    // distance away from activating element in px\n    distanceAway: 0,\n\n    // number of pixels an element is allowed to be \"offstage\" for a position to be chosen (allows for rounding)\n    jitter: 2,\n\n    // offset on aligning axis from calculated position\n    offset: 0,\n\n    // maximum times to look for a position before failing (9 positions total)\n    maxSearchDepth: 15,\n\n    error: {\n      invalidPosition: 'The position you specified is not a valid position',\n      cannotPlace: 'Popup does not fit within the boundaries of the viewport',\n      method: 'The method you called is not defined.',\n      noTransition: 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n      notFound: 'The target or popup you specified does not exist on the page'\n    },\n\n    metadata: {\n      activator: 'activator',\n      content: 'content',\n      html: 'html',\n      offset: 'offset',\n      position: 'position',\n      title: 'title',\n      variation: 'variation'\n    },\n\n    className: {\n      active: 'active',\n      animating: 'animating',\n      dropdown: 'dropdown',\n      fluid: 'fluid',\n      loading: 'loading',\n      popup: 'ui popup',\n      position: 'top left center bottom right',\n      visible: 'visible'\n    },\n\n    selector: {\n      popup: '.ui.popup'\n    },\n\n    templates: {\n      escape: function (string) {\n        var badChars = /[&<>\"'`]/g,\n            shouldEscape = /[&<>\"'`]/,\n            escape = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n            escapedChar = function (chr) {\n          return escape[chr];\n        };\n        if (shouldEscape.test(string)) {\n          return string.replace(badChars, escapedChar);\n        }\n        return string;\n      },\n      popup: function (text) {\n        var html = '',\n            escape = $.fn.popup.settings.templates.escape;\n        if (typeof text !== undefined) {\n          if (typeof text.title !== undefined && text.title) {\n            text.title = escape(text.title);\n            html += '<div class=\"header\">' + text.title + '</div>';\n          }\n          if (typeof text.content !== undefined && text.content) {\n            text.content = escape(text.content);\n            html += '<div class=\"content\">' + text.content + '</div>';\n          }\n        }\n        return html;\n      }\n    }\n\n  };\n})(jQuery, window, document);","ast":null,"map":{"version":3,"sources":["/client/definitions/modules/popup.js"],"names":[],"mappings":"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","file":"/client/definitions/modules/popup.js.map","sourcesContent":["/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.1.6\n*/\n/*!\n * # Semantic UI - Popup\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Copyright 2015 Contributors\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\n$.fn.popup = function(parameters) {\n  var\n    $allModules    = $(this),\n    $document      = $(document),\n    $window        = $(window),\n    $body          = $('body'),\n\n    moduleSelector = $allModules.selector || '',\n\n    hasTouch       = (true),\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.popup.settings, parameters)\n          : $.extend({}, $.fn.popup.settings),\n\n        selector           = settings.selector,\n        className          = settings.className,\n        error              = settings.error,\n        metadata           = settings.metadata,\n        namespace          = settings.namespace,\n\n        eventNamespace     = '.' + settings.namespace,\n        moduleNamespace    = 'module-' + namespace,\n\n        $module            = $(this),\n        $context           = $(settings.context),\n        $target            = (settings.target)\n          ? $(settings.target)\n          : $module,\n\n        $popup,\n        $offsetParent,\n\n        searchDepth        = 0,\n        triedPositions     = false,\n        openedWithTouch    = false,\n\n        element            = this,\n        instance           = $module.data(moduleNamespace),\n\n        elementNamespace,\n        id,\n        module\n      ;\n\n      module = {\n\n        // binds events\n        initialize: function() {\n          module.debug('Initializing', $module);\n          module.createID();\n          module.bind.events();\n          if( !module.exists() && settings.preserve) {\n            module.create();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        refresh: function() {\n          if(settings.popup) {\n            $popup = $(settings.popup).eq(0);\n          }\n          else {\n            if(settings.inline) {\n              $popup = $target.nextAll(selector.popup).eq(0);\n              settings.popup = $popup;\n            }\n          }\n          if(settings.popup) {\n            $popup.addClass(className.loading);\n            $offsetParent = module.get.offsetParent();\n            $popup.removeClass(className.loading);\n            if(settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {\n              module.debug('Moving popup to the same offset parent as activating element');\n              $popup\n                .detach()\n                .appendTo($offsetParent)\n              ;\n            }\n          }\n          else {\n            $offsetParent = (settings.inline)\n              ? module.get.offsetParent($target)\n              : module.has.popup()\n                ? module.get.offsetParent($popup)\n                : $body\n            ;\n          }\n          if( $offsetParent.is('html') && $offsetParent[0] !== $body[0] ) {\n            module.debug('Setting page as offset parent');\n            $offsetParent = $body;\n          }\n          if( module.get.variation() ) {\n            module.set.variation();\n          }\n        },\n\n        reposition: function() {\n          module.refresh();\n          module.set.position();\n        },\n\n        destroy: function() {\n          module.debug('Destroying previous module');\n          // remove element only if was created dynamically\n          if($popup && !settings.preserve) {\n            module.removePopup();\n          }\n          // clear all timeouts\n          clearTimeout(module.hideTimer);\n          clearTimeout(module.showTimer);\n          // remove events\n          $window.off(elementNamespace);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        event: {\n          start:  function(event) {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.show\n                : settings.delay\n            ;\n            clearTimeout(module.hideTimer);\n            if(!openedWithTouch) {\n              module.showTimer = setTimeout(module.show, delay);\n            }\n          },\n          end:  function() {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.hide\n                : settings.delay\n            ;\n            clearTimeout(module.showTimer);\n            module.hideTimer = setTimeout(module.hide, delay);\n          },\n          touchstart: function(event) {\n            openedWithTouch = true;\n            module.show();\n          },\n          resize: function() {\n            if( module.is.visible() ) {\n              module.set.position();\n            }\n          },\n          hideGracefully: function(event) {\n            // don't close on clicks inside popup\n            if(event && $(event.target).closest(selector.popup).length === 0) {\n              module.debug('Click occurred outside popup hiding popup');\n              module.hide();\n            }\n            else {\n              module.debug('Click was inside popup, keeping popup open');\n            }\n          }\n        },\n\n        // generates popup html from metadata\n        create: function() {\n          var\n            html      = module.get.html(),\n            title     = module.get.title(),\n            content   = module.get.content()\n          ;\n\n          if(html || content || title) {\n            module.debug('Creating pop-up html');\n            if(!html) {\n              html = settings.templates.popup({\n                title   : title,\n                content : content\n              });\n            }\n            $popup = $('<div/>')\n              .addClass(className.popup)\n              .data(metadata.activator, $module)\n              .html(html)\n            ;\n            if(settings.inline) {\n              module.verbose('Inserting popup element inline', $popup);\n              $popup\n                .insertAfter($module)\n              ;\n            }\n            else {\n              module.verbose('Appending popup element to body', $popup);\n              $popup\n                .appendTo( $context )\n              ;\n            }\n            module.refresh();\n            module.set.variation();\n\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n            settings.onCreate.call($popup, element);\n          }\n          else if($target.next(selector.popup).length !== 0) {\n            module.verbose('Pre-existing popup found');\n            settings.inline = true;\n            settings.popups  = $target.next(selector.popup).data(metadata.activator, $module);\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else if(settings.popup) {\n            $(settings.popup).data(metadata.activator, $module);\n            module.verbose('Used popup specified in settings');\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else {\n            module.debug('No content specified skipping display', element);\n          }\n        },\n\n        createID: function() {\n          id = (Math.random().toString(16) + '000000000').substr(2,8);\n          elementNamespace = '.' + id;\n          module.verbose('Creating unique id for element', id);\n        },\n\n        // determines popup state\n        toggle: function() {\n          module.debug('Toggling pop-up');\n          if( module.is.hidden() ) {\n            module.debug('Popup is hidden, showing pop-up');\n            module.unbind.close();\n            module.show();\n          }\n          else {\n            module.debug('Popup is visible, hiding pop-up');\n            module.hide();\n          }\n        },\n\n        show: function(callback) {\n          callback = callback || function(){};\n          module.debug('Showing pop-up', settings.transition);\n          if(module.is.hidden() && !( module.is.active() && module.is.dropdown()) ) {\n            if( !module.exists() ) {\n              module.create();\n            }\n            if(settings.onShow.call($popup, element) === false) {\n              module.debug('onShow callback returned false, cancelling popup animation');\n              return;\n            }\n            else if(!settings.preserve && !settings.popup) {\n              module.refresh();\n            }\n            if( $popup && module.set.position() ) {\n              module.save.conditions();\n              if(settings.exclusive) {\n                module.hideAll();\n              }\n              module.animate.show(callback);\n            }\n          }\n        },\n\n\n        hide: function(callback) {\n          callback = callback || function(){};\n          if( module.is.visible() || module.is.animating() ) {\n            if(settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            module.remove.visible();\n            module.unbind.close();\n            module.restore.conditions();\n            module.animate.hide(callback);\n          }\n        },\n\n        hideAll: function() {\n          $(selector.popup)\n            .filter('.' + className.visible)\n            .each(function() {\n              $(this)\n                .data(metadata.activator)\n                .popup('hide')\n              ;\n            })\n          ;\n        },\n        exists: function() {\n          if(!$popup) {\n            return false;\n          }\n          if(settings.inline || settings.popup) {\n            return ( module.has.popup() );\n          }\n          else {\n            return ( $popup.closest($context).length >= 1 )\n              ? true\n              : false\n            ;\n          }\n        },\n\n        removePopup: function() {\n          if( module.has.popup() && !settings.popup) {\n            module.debug('Removing popup', $popup);\n            $popup.remove();\n            $popup = undefined;\n            settings.onRemove.call($popup, element);\n          }\n        },\n\n        save: {\n          conditions: function() {\n            module.cache = {\n              title: $module.attr('title')\n            };\n            if (module.cache.title) {\n              $module.removeAttr('title');\n            }\n            module.verbose('Saving original attributes', module.cache.title);\n          }\n        },\n        restore: {\n          conditions: function() {\n            if(module.cache && module.cache.title) {\n              $module.attr('title', module.cache.title);\n              module.verbose('Restoring original attributes', module.cache.title);\n            }\n            return true;\n          }\n        },\n        animate: {\n          show: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.set.visible();\n              $popup\n                .transition({\n                  animation  : settings.transition + ' in',\n                  queue      : false,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onComplete : function() {\n                    module.bind.close();\n                    callback.call($popup, element);\n                    settings.onVisible.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          },\n          hide: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            module.debug('Hiding pop-up');\n            if(settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $popup\n                .transition({\n                  animation  : settings.transition + ' out',\n                  queue      : false,\n                  duration   : settings.duration,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  onComplete : function() {\n                    module.reset();\n                    callback.call($popup, element);\n                    settings.onHidden.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n\n        change: {\n          content: function(html) {\n            $popup.html(html);\n          }\n        },\n\n        get: {\n          html: function() {\n            $module.removeData(metadata.html);\n            return $module.data(metadata.html) || settings.html;\n          },\n          title: function() {\n            $module.removeData(metadata.title);\n            return $module.data(metadata.title) || settings.title;\n          },\n          content: function() {\n            $module.removeData(metadata.content);\n            return $module.data(metadata.content) || $module.attr('title') || settings.content;\n          },\n          variation: function() {\n            $module.removeData(metadata.variation);\n            return $module.data(metadata.variation) || settings.variation;\n          },\n          popup: function() {\n            return $popup;\n          },\n          popupOffset: function() {\n            return $popup.offset();\n          },\n          calculations: function() {\n            var\n              targetElement  = $target[0],\n              targetPosition = (settings.inline || (settings.popup && settings.movePopup))\n                ? $target.position()\n                : $target.offset(),\n              calculations = {},\n              screen\n            ;\n            calculations = {\n              // element which is launching popup\n              target : {\n                element : $target[0],\n                width   : $target.outerWidth(),\n                height  : $target.outerHeight(),\n                top     : targetPosition.top,\n                left    : targetPosition.left,\n                margin  : {}\n              },\n              // popup itself\n              popup : {\n                width  : $popup.outerWidth(),\n                height : $popup.outerHeight()\n              },\n              // offset container (or 3d context)\n              parent : {\n                width  : $offsetParent.outerWidth(),\n                height : $offsetParent.outerHeight()\n              },\n              // screen boundaries\n              screen : {\n                scroll: {\n                  top  : $window.scrollTop(),\n                  left : $window.scrollLeft()\n                },\n                width  : $window.width(),\n                height : $window.height()\n              }\n            };\n\n            // add in container calcs if fluid\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              calculations.container = {\n                width: $popup.parent().outerWidth()\n              };\n              calculations.popup.width = calculations.container.width;\n            }\n\n            // add in margins if inline\n            calculations.target.margin.top = (settings.inline)\n              ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10)\n              : 0\n            ;\n            calculations.target.margin.left = (settings.inline)\n              ? module.is.rtl()\n                ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10)\n                : parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-left') , 10)\n              : 0\n            ;\n            // calculate screen boundaries\n            screen = calculations.screen;\n            calculations.boundary = {\n              top    : screen.scroll.top,\n              bottom : screen.scroll.top + screen.height,\n              left   : screen.scroll.left,\n              right  : screen.scroll.left + screen.width\n            };\n            return calculations;\n          },\n          id: function() {\n            return id;\n          },\n          startEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseenter';\n            }\n            else if(settings.on == 'focus') {\n              return 'focus';\n            }\n            return false;\n          },\n          scrollEvent: function() {\n            return 'scroll';\n          },\n          endEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseleave';\n            }\n            else if(settings.on == 'focus') {\n              return 'blur';\n            }\n            return false;\n          },\n          distanceFromBoundary: function(offset, calculations) {\n            var\n              distanceFromBoundary = {},\n              popup,\n              boundary\n            ;\n            offset       = offset       || module.get.offset();\n            calculations = calculations || module.get.calculations();\n\n            // shorthand\n            popup        = calculations.popup;\n            boundary     = calculations.boundary;\n\n            if(offset) {\n              distanceFromBoundary = {\n                top    : (offset.top - boundary.top),\n                left   : (offset.left - boundary.left),\n                right  : (boundary.right - (offset.left + popup.width) ),\n                bottom : (boundary.bottom - (offset.top + popup.height) )\n              };\n              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);\n            }\n            return distanceFromBoundary;\n          },\n          offsetParent: function($target) {\n            var\n              element = ($target !== undefined)\n                ? $target[0]\n                : $module[0],\n              parentNode = element.parentNode,\n              $node    = $(parentNode)\n            ;\n            if(parentNode) {\n              var\n                is2D     = ($node.css('transform') === 'none'),\n                isStatic = ($node.css('position') === 'static'),\n                isHTML   = $node.is('html')\n              ;\n              while(parentNode && !isHTML && isStatic && is2D) {\n                parentNode = parentNode.parentNode;\n                $node    = $(parentNode);\n                is2D     = ($node.css('transform') === 'none');\n                isStatic = ($node.css('position') === 'static');\n                isHTML   = $node.is('html');\n              }\n            }\n            return ($node && $node.length > 0)\n              ? $node\n              : $()\n            ;\n          },\n          positions: function() {\n            return {\n              'top left'      : false,\n              'top center'    : false,\n              'top right'     : false,\n              'bottom left'   : false,\n              'bottom center' : false,\n              'bottom right'  : false,\n              'left center'   : false,\n              'right center'  : false\n            };\n          },\n          nextPosition: function(position) {\n            var\n              positions          = position.split(' '),\n              verticalPosition   = positions[0],\n              horizontalPosition = positions[1],\n              opposite = {\n                top    : 'bottom',\n                bottom : 'top',\n                left   : 'right',\n                right  : 'left'\n              },\n              adjacent = {\n                left   : 'center',\n                center : 'right',\n                right  : 'left'\n              },\n              backup = {\n                'top left'      : 'top center',\n                'top center'    : 'top right',\n                'top right'     : 'right center',\n                'right center'  : 'bottom right',\n                'bottom right'  : 'bottom center',\n                'bottom center' : 'bottom left',\n                'bottom left'   : 'left center',\n                'left center'   : 'top left'\n              },\n              adjacentsAvailable = (verticalPosition == 'top' || verticalPosition == 'bottom'),\n              oppositeTried = false,\n              adjacentTried = false,\n              nextPosition  = false\n            ;\n            if(!triedPositions) {\n              module.verbose('All available positions available');\n              triedPositions = module.get.positions();\n            }\n\n            module.debug('Recording last position tried', position);\n            triedPositions[position] = true;\n\n            if(settings.prefer === 'opposite') {\n              nextPosition  = [opposite[verticalPosition], horizontalPosition];\n              nextPosition  = nextPosition.join(' ');\n              oppositeTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying opposite strategy', nextPosition);\n            }\n            if((settings.prefer === 'adjacent') && adjacentsAvailable ) {\n              nextPosition  = [verticalPosition, adjacent[horizontalPosition]];\n              nextPosition  = nextPosition.join(' ');\n              adjacentTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying adjacent strategy', nextPosition);\n            }\n            if(adjacentTried || oppositeTried) {\n              module.debug('Using backup position', nextPosition);\n              nextPosition = backup[position];\n            }\n            return nextPosition;\n          }\n        },\n\n        set: {\n          position: function(position, calculations) {\n\n            // exit conditions\n            if($target.length === 0 || $popup.length === 0) {\n              module.error(error.notFound);\n              return;\n            }\n            var\n              offset,\n              distanceAway,\n              target,\n              popup,\n              parent,\n              positioning,\n              popupOffset,\n              distanceFromBoundary\n            ;\n\n            calculations = calculations || module.get.calculations();\n            position     = position     || $module.data(metadata.position) || settings.position;\n\n            offset       = $module.data(metadata.offset) || settings.offset;\n            distanceAway = settings.distanceAway;\n\n            // shorthand\n            target = calculations.target;\n            popup  = calculations.popup;\n            parent = calculations.parent;\n\n            if(target.width === 0 && target.height === 0 && !(target.element instanceof SVGGraphicsElement)) {\n              module.debug('Popup target is hidden, no action taken');\n              return false;\n            }\n\n            if(settings.inline) {\n              module.debug('Adding margin to calculation', target.margin);\n              if(position == 'left center' || position == 'right center') {\n                offset       +=  target.margin.top;\n                distanceAway += -target.margin.left;\n              }\n              else if (position == 'top left' || position == 'top center' || position == 'top right') {\n                offset       += target.margin.left;\n                distanceAway -= target.margin.top;\n              }\n              else {\n                offset       += target.margin.left;\n                distanceAway += target.margin.top;\n              }\n            }\n\n            module.debug('Determining popup position from calculations', position, calculations);\n\n            if (module.is.rtl()) {\n              position = position.replace(/left|right/g, function (match) {\n                return (match == 'left')\n                  ? 'right'\n                  : 'left'\n                ;\n              });\n              module.debug('RTL: Popup position updated', position);\n            }\n\n            // if last attempt use specified last resort position\n            if(searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {\n              position = settings.lastResort;\n            }\n\n            switch (position) {\n              case 'top left':\n                positioning = {\n                  top    : 'auto',\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + offset,\n                  right  : 'auto'\n                };\n              break;\n              case 'top center':\n                positioning = {\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  top    : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'top right':\n                positioning = {\n                  bottom :  parent.height - target.top + distanceAway,\n                  right  :  parent.width - target.left - target.width - offset,\n                  top    : 'auto',\n                  left   : 'auto'\n                };\n              break;\n              case 'left center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  right  : parent.width - target.left + distanceAway,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n              case 'right center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  left   : target.left + target.width + distanceAway,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom left':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom center':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom right':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  right  : parent.width - target.left  - target.width - offset,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n            }\n            if(positioning === undefined) {\n              module.error(error.invalidPosition, position);\n            }\n\n            module.debug('Calculated popup positioning values', positioning);\n\n            // tentatively place on stage\n            $popup\n              .css(positioning)\n              .removeClass(className.position)\n              .addClass(position)\n              .addClass(className.loading)\n            ;\n\n            popupOffset = module.get.popupOffset();\n\n            // see if any boundaries are surpassed with this tentative position\n            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);\n\n            if( module.is.offstage(distanceFromBoundary, position) ) {\n              module.debug('Position is outside viewport', position);\n              if(searchDepth < settings.maxSearchDepth) {\n                searchDepth++;\n                position = module.get.nextPosition(position);\n                module.debug('Trying new position', position);\n                return ($popup)\n                  ? module.set.position(position, calculations)\n                  : false\n                ;\n              }\n              else {\n                if(settings.lastResort) {\n                  module.debug('No position found, showing with last position');\n                }\n                else {\n                  module.debug('Popup could not find a position to display', $popup);\n                  module.error(error.cannotPlace, element);\n                  module.remove.attempts();\n                  module.remove.loading();\n                  module.reset();\n                  return false;\n                }\n              }\n            }\n            module.debug('Position is on stage', position);\n            module.remove.attempts();\n            module.remove.loading();\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              module.set.fluidWidth(calculations);\n            }\n            return true;\n          },\n\n          fluidWidth: function(calculations) {\n            calculations = calculations || module.get.calculations();\n            module.debug('Automatically setting element width to parent width', calculations.parent.width);\n            $popup.css('width', calculations.container.width);\n          },\n\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation && module.has.popup() ) {\n              module.verbose('Adding variation to popup', variation);\n              $popup.addClass(variation);\n            }\n          },\n\n          visible: function() {\n            $module.addClass(className.visible);\n          }\n        },\n\n        remove: {\n          loading: function() {\n            $popup.removeClass(className.loading);\n          },\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation) {\n              module.verbose('Removing variation', variation);\n              $popup.removeClass(variation);\n            }\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          attempts: function() {\n            module.verbose('Resetting all searched positions');\n            searchDepth    = 0;\n            triedPositions = false;\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.debug('Binding popup events to module');\n            if(settings.on == 'click') {\n              $module\n                .on('click' + eventNamespace, module.toggle)\n              ;\n            }\n            if(settings.on == 'hover' && hasTouch) {\n              $module\n                .on('touchstart' + eventNamespace, module.event.touchstart)\n              ;\n            }\n            if( module.get.startEvent() ) {\n              $module\n                .on(module.get.startEvent() + eventNamespace, module.event.start)\n                .on(module.get.endEvent() + eventNamespace, module.event.end)\n              ;\n            }\n            if(settings.target) {\n              module.debug('Target set to element', $target);\n            }\n            $window.on('resize' + elementNamespace, module.event.resize);\n          },\n          popup: function() {\n            module.verbose('Allowing hover events on popup to prevent closing');\n            if( $popup && module.has.popup() ) {\n              $popup\n                .on('mouseenter' + eventNamespace, module.event.start)\n                .on('mouseleave' + eventNamespace, module.event.end)\n              ;\n            }\n          },\n          close: function() {\n            if(settings.hideOnScroll === true || (settings.hideOnScroll == 'auto' && settings.on != 'click'))   {\n              $document\n                .one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully)\n              ;\n              $context\n                .one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully)\n              ;\n            }\n            if(settings.on == 'hover' && openedWithTouch) {\n              module.verbose('Binding popup close event to document');\n              $document\n                .on('touchstart' + elementNamespace, function(event) {\n                  module.verbose('Touched away from popup');\n                  module.event.hideGracefully.call(element, event);\n                })\n              ;\n            }\n            if(settings.on == 'click' && settings.closable) {\n              module.verbose('Binding popup close event to document');\n              $document\n                .on('click' + elementNamespace, function(event) {\n                  module.verbose('Clicked away from popup');\n                  module.event.hideGracefully.call(element, event);\n                })\n              ;\n            }\n          }\n        },\n\n        unbind: {\n          close: function() {\n            if(settings.hideOnScroll === true || (settings.hideOnScroll == 'auto' && settings.on != 'click')) {\n              $document\n                .off('scroll' + elementNamespace, module.hide)\n              ;\n              $context\n                .off('scroll' + elementNamespace, module.hide)\n              ;\n            }\n            if(settings.on == 'hover' && openedWithTouch) {\n              $document\n                .off('touchstart' + elementNamespace)\n              ;\n              openedWithTouch = false;\n            }\n            if(settings.on == 'click' && settings.closable) {\n              module.verbose('Removing close event from document');\n              $document\n                .off('click' + elementNamespace)\n              ;\n            }\n          }\n        },\n\n        has: {\n          popup: function() {\n            return ($popup && $popup.length > 0);\n          }\n        },\n\n        is: {\n          offstage: function(distanceFromBoundary, position) {\n            var\n              offstage = []\n            ;\n            // return boundaries that have been surpassed\n            $.each(distanceFromBoundary, function(direction, distance) {\n              if(distance < -settings.jitter) {\n                module.debug('Position exceeds allowable distance from edge', direction, distance, position);\n                offstage.push(direction);\n              }\n            });\n            if(offstage.length > 0) {\n              return true;\n            }\n            else {\n              return false;\n            }\n          },\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animating: function() {\n            return ( $popup && $popup.hasClass(className.animating) );\n          },\n          fluid: function() {\n            return ( $popup && $popup.hasClass(className.fluid));\n          },\n          visible: function() {\n            return $popup && $popup.hasClass(className.visible);\n          },\n          dropdown: function() {\n            return $module.hasClass(className.dropdown);\n          },\n          hidden: function() {\n            return !module.is.visible();\n          },\n          rtl: function () {\n            return $module.css('direction') == 'rtl';\n          }\n        },\n\n        reset: function() {\n          module.remove.visible();\n          if(settings.preserve) {\n            if($.fn.transition !== undefined) {\n              $popup\n                .transition('remove transition')\n              ;\n            }\n          }\n          else {\n            module.removePopup();\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n          module.error.apply(console, arguments);\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.popup.settings = {\n\n  name         : 'Popup',\n\n  // module settings\n  debug        : false,\n  verbose      : false,\n  performance  : true,\n  namespace    : 'popup',\n\n  // callback only when element added to dom\n  onCreate     : function(){},\n\n  // callback before element removed from dom\n  onRemove     : function(){},\n\n  // callback before show animation\n  onShow       : function(){},\n\n  // callback after show animation\n  onVisible    : function(){},\n\n  // callback before hide animation\n  onHide       : function(){},\n\n  // callback after hide animation\n  onHidden     : function(){},\n\n  // when to show popup\n  on           : 'hover',\n\n  // whether to add touchstart events when using hover\n  addTouchEvents : true,\n\n  // default position relative to element\n  position     : 'top left',\n\n  // name of variation to use\n  variation    : '',\n\n  // whether popup should be moved to context\n  movePopup      : true,\n\n  // element which popup should be relative to\n  target         : false,\n\n  // jq selector or element that should be used as popup\n  popup          : false,\n\n  // popup should remain inline next to activator\n  inline         : false,\n\n  // popup should be removed from page on hide\n  preserve       : false,\n\n  // popup should not close when being hovered on\n  hoverable      : false,\n\n  // explicitly set content\n  content      : false,\n\n  // explicitly set html\n  html         : false,\n\n  // explicitly set title\n  title        : false,\n\n  // whether automatically close on clickaway when on click\n  closable     : true,\n\n  // automatically hide on scroll\n  hideOnScroll : 'auto',\n\n  // hide other popups on show\n  exclusive    : false,\n\n  // context to attach popups\n  context      : 'body',\n\n  // position to prefer when calculating new position\n  prefer       : 'opposite',\n\n  // specify position to appear even if it doesn't fit\n  lastResort   : false,\n\n  // delay used to prevent accidental refiring of animations due to user error\n  delay        : {\n    show : 50,\n    hide : 70\n  },\n\n  // whether fluid variation should assign width explicitly\n  setFluidWidth  : true,\n\n  // transition settings\n  duration       : 200,\n  transition     : 'scale',\n\n  // distance away from activating element in px\n  distanceAway   : 0,\n\n  // number of pixels an element is allowed to be \"offstage\" for a position to be chosen (allows for rounding)\n  jitter         : 2,\n\n  // offset on aligning axis from calculated position\n  offset         : 0,\n\n  // maximum times to look for a position before failing (9 positions total)\n  maxSearchDepth : 15,\n\n  error: {\n    invalidPosition : 'The position you specified is not a valid position',\n    cannotPlace     : 'Popup does not fit within the boundaries of the viewport',\n    method          : 'The method you called is not defined.',\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n    notFound        : 'The target or popup you specified does not exist on the page'\n  },\n\n  metadata: {\n    activator : 'activator',\n    content   : 'content',\n    html      : 'html',\n    offset    : 'offset',\n    position  : 'position',\n    title     : 'title',\n    variation : 'variation'\n  },\n\n  className   : {\n    active    : 'active',\n    animating : 'animating',\n    dropdown  : 'dropdown',\n    fluid     : 'fluid',\n    loading   : 'loading',\n    popup     : 'ui popup',\n    position  : 'top left center bottom right',\n    visible   : 'visible'\n  },\n\n  selector    : {\n    popup    : '.ui.popup'\n  },\n\n  templates: {\n    escape: function(string) {\n      var\n        badChars     = /[&<>\"'`]/g,\n        shouldEscape = /[&<>\"'`]/,\n        escape       = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n        escapedChar  = function(chr) {\n          return escape[chr];\n        }\n      ;\n      if(shouldEscape.test(string)) {\n        return string.replace(badChars, escapedChar);\n      }\n      return string;\n    },\n    popup: function(text) {\n      var\n        html   = '',\n        escape = $.fn.popup.settings.templates.escape\n      ;\n      if(typeof text !== undefined) {\n        if(typeof text.title !== undefined && text.title) {\n          text.title = escape(text.title);\n          html += '<div class=\"header\">' + text.title + '</div>';\n        }\n        if(typeof text.content !== undefined && text.content) {\n          text.content = escape(text.content);\n          html += '<div class=\"content\">' + text.content + '</div>';\n        }\n      }\n      return html;\n    }\n  }\n\n};\n\n\n})( jQuery, window, document );\n"]},"hash":"58071ee076a8ef29ce5ffc79be353bb161c8ca19"}
